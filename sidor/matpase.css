:root{
  /* page-only helpers */
  --surface: color-mix(in oklab, var(--primar) 85%, black 15%);
  --chipBg: rgba(255,255,255,.14);
  --max: 1200px;
}

*{ box-sizing: border-box; }
body{
  margin:0;
  color:#222;
  font-family:"Poetsen One", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:#fff;
}
.sacramento-regular{ font-family:"Sacramento",cursive; font-weight:400; }

/* ===== HERO ===== */
.hero{
  position: relative;
  color: var(--text);
  padding: 64px 18px 48px;
  text-align: center;
  overflow: hidden;
  background:
    linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.45)),
    url('https://images.squarespace-cdn.com/content/v1/57879a6cbebafb879f256735/1712832754805-I7IJ7FRXF629FN3PIS3O/KC310124-27.jpg') center/cover no-repeat,
    linear-gradient(180deg, var(--primar), color-mix(in oklab, var(--primar) 75%, black 25%));

  .hero__inner{ max-width: var(--max); margin: 0 auto; }
  h1{ margin: 0 0 6px; font-size: clamp(2rem, 3.6vw + 1rem, 3.4rem); line-height: 1.05; }
  p{ margin: 0 auto 18px; max-width: 720px; opacity: .98; font-size: clamp(1rem, 1vw + .6rem, 1.15rem); }

  .hero__cta{
    margin-top: 18px; display: inline-flex; gap: 10px; flex-wrap: wrap; justify-content: center;
    .btn{
      background: var(--secondary); color: var(--text);
      border: none; border-radius: 12px; padding: 12px 18px; cursor: pointer; font: inherit;
      transition: transform .12s ease, opacity .12s ease;
      &:hover{ transform: translateY(-1px); opacity: .95; }
      &:active{ transform: translateY(0); }
    }
    .btn--ghost{ background: transparent; outline: 1.5px solid rgba(255,255,255,.35); }
  }

  .hero__chips{
    display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; margin-top: 12px;
    .chip{ background: var(--chipBg); backdrop-filter: blur(4px); border-radius: 999px; padding: 8px 12px; font-size: .95rem; }
  }
}

/* ===== STATEMENT ===== */
.statement{
  max-width: var(--max); margin: 20px auto 8px; padding: 0 18px; text-align: center; color: #333;
  .accent{ color: color-mix(in oklab, var(--primar) 70%, black 30%); }
  h2{ margin: 0 0 4px; font-size: clamp(1.3rem, 1.5vw + .6rem, 1.8rem); }
  p{ margin: 0; opacity: .9; }
}

/* ===== CATEGORY CHIPS ===== */
.chips-row{
  max-width: var(--max); margin: 10px auto 0; padding: 0 18px 6px;
  display: flex; gap: 8px; flex-wrap: wrap; justify-content: center;
  .chip--filter{
    border: none; border-radius: 999px; padding: 8px 12px; cursor: pointer; font: inherit;
    background: #f2f2f2; color: #333; transition: background .15s ease, transform .12s ease;
    &:hover{ background: #e9e9e9; transform: translateY(-1px); }
    &[aria-pressed="true"]{ background: var(--secondary); color: var(--text); }
  }
}

/* ===== BAGS GRID (max 3 columns) ===== */
.bags{
  max-width: var(--max); margin: 18px auto 60px; padding: 0 18px;
  
  .bags__grid{
    display: grid;
    grid-template-columns: repeat(1, minmax(0, 1fr));
    gap: 16px;
  }
  @media (min-width: 640px){ .bags__grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); } }
  @media (min-width: 980px){ .bags__grid{ grid-template-columns: repeat(3, minmax(0, 1fr)); } } /* <= MAX 3 */

  /* ---- CARD ---- */
  details.bag{
    background: #fff; border-radius: 16px; box-shadow: 0 8px 24px rgba(0,0,0,.08);
    overflow: clip; outline: 2px solid transparent; transition: transform .18s ease, box-shadow .18s ease, outline-color .18s ease;

    &[open]{ transform: translateY(-2px); box-shadow: 0 10px 30px rgba(0,0,0,.12); outline-color: rgba(58,111,67,.25); }

    summary{
      list-style: none; cursor: pointer; display: grid; gap: 10px; padding: 0 0 12px 0; background: #fff;
      grid-template-areas:
        "thumb"
        "title"
        "price";
      .thumb{
        grid-area: thumb; margin: 0; aspect-ratio: 16/9; overflow: hidden;
        img{ width: 100%; height: 100%; object-fit: cover; display: block; }
      }
      .title{
        grid-area: title; padding: 0 16px; display: flex; flex-direction: column; gap: 6px;
        h3{ margin: 0; font-size: 1.2rem; color: #222; }
        .meta{
          display: flex; gap: 8px; flex-wrap: wrap;
          .pill{ font-size: .85rem; background: rgba(0,0,0,.05); color: #333; padding: 6px 10px; border-radius: 999px; }
        }
      }
      .price{
        grid-area: price; padding: 0 16px; display:flex; align-items:center; justify-content:flex-end;
        .amount{ font-size: 1.1rem; color: color-mix(in oklab, var(--primar) 75%, black 25%); }
      }
    }

    summary::marker{ display:none; }
    summary::after{
      content: "â–¾"; font-size: 1.2rem; color: #777; transition: transform .18s ease; margin: 0 16px 0 auto; grid-area: price; align-self: center;
    }
    &[open] summary::after{ transform: rotate(180deg); }

    /* Hover preview of recipes (desktop) */
    &:not([open]):hover .recipes{ max-height: 160px; opacity: 1; }

    .recipes{
      border-top: 1px solid #eee; background: #fff; padding: 0 16px 16px; max-height: 0; overflow: hidden; opacity: 0;
      transition: max-height .25s ease, opacity .2s ease;
      ul{ margin: 12px 0 0 18px; padding: 0; display: grid; gap: 8px; }
      li{ list-style: disc; color: #333; }
    }
    &[open] .recipes{ max-height: 480px; opacity: 1; }
  }
}

/* focus-visible */
.bags details.bag:focus-within{ outline-color: var(--secondary); }
.bags details.bag summary:focus-visible{ outline: 3px solid var(--secondary); outline-offset: 3px; }

/* ===== HOW IT WORKS ===== */
.how{
  max-width: var(--max); margin: 0 auto 48px; padding: 0 18px;
  .how__grid{
    display: grid; gap: 18px; grid-template-columns: 1fr; text-align: center;
    @media (min-width: 820px){ grid-template-columns: repeat(3, 1fr); }
    .step{
      background:#fff; border-radius:14px; box-shadow: 0 6px 18px rgba(0,0,0,.07); padding: 14px;
      img{ width:100%; height:160px; object-fit:cover; border-radius:10px; }
      h3{ margin: 10px 0 6px; font-size: 1.1rem; color:#222; }
      p{ margin: 0; color:#444; }
    }
  }
}

/* ===== TESTIMONIAL ===== */
.testimonial{
  text-align:center; margin: 20px 0 40px; padding: 0 18px;
  blockquote{ max-width: 840px; margin: 0 auto; font-size: clamp(1.1rem, 1.2vw + .8rem, 1.6rem); color:#222; }
  .author{ margin-top: 8px; color:#666; }
}

/* ===== CTA BANNER WITH IMAGE ===== */
.cta-banner{
  max-width: var(--max); margin: 0 auto 70px; padding: 0 18px;
  display: grid; gap: 16px; align-items: center;
  grid-template-columns: 1fr; 
  @media (min-width: 820px){ grid-template-columns: 1.2fr .8fr; }

  .cta__content{
    background: color-mix(in oklab, var(--primar) 90%, black 10%);
    color: var(--text);
    border-radius: 16px;
    padding: 20px;
    h3{ margin:0 0 6px; font-size: clamp(1.3rem, 1.3vw + .8rem, 1.9rem); }
    p{ margin:0 0 12px; opacity:.95; }
    .btn{
      background: var(--secondary); color: var(--text);
      border: none; border-radius: 12px; padding: 10px 16px; cursor: pointer; font: inherit;
      transition: transform .12s ease, opacity .12s ease;
      &:hover{ transform: translateY(-1px); opacity: .95; }
      &:active{ transform: translateY(0); }
    }
  }
  img{ width:100%; height: 220px; object-fit: cover; border-radius: 16px; }
}